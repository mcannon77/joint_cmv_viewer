/*  ConfigurableMapViewerCMV
 *  version 1.3.4
 *  Project: http://cmv.io/
 */

define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dojo/_base/lang","dojo/dom-style","dojo/dom-construct","dojo/_base/fx","dojo/dom-class","dojo/topic","xstyle/css!./Growler/css/Growler.css"],function(a,b,c,d,e,f,g,h,i){var j=a([b,c],{templateString:'<div class="gis-dijit-Growl" data-dojo-attach-point="containerNode"></div>',postCreate:function(){this.inherited(arguments),this.own(i.subscribe("growler/growl",d.hitch(this,"growl")))},growl:function(a){a=a||{},d.mixin(a,{_container:this.containerNode});var b=new k(a);b.startup()}}),k=a([b,c],{templateString:'<div class="growl ${level}" data-dojo-attach-event="onmouseover:hoverOver,onmouseout:hoverOut,onclick:close"><h3>${title}</h3><span data-dojo-attach-point="growlMessageNode"></span></div>',title:"Title",message:"Message",level:"default",timeout:1e4,opacity:1,_container:null,_timer:null,postCreate:function(){this.inherited(arguments),this._container?(e.set(this.domNode,"opacity",0),f.place(this.domNode,this._container),this.growlMessageNode.innerHTML=this.message,g.anim(this.domNode,{opacity:this.opacity},250),this.setTimeout()):i.publish("viewer/handleError",{source:"Growler",error:"Growl container not found/specified."})},setTimeout:function(){this.timeout>0&&(this._timer=setTimeout(d.hitch(this,"close"),this.timeout))},hoverOver:function(){clearInterval(this._timer),h.add(this.domNode,"hover")},hoverOut:function(){this.timeout>0&&this.setTimeout(),h.remove(this.domNode,"hover")},close:function(){g.anim(this.domNode,{opacity:0},500,null,d.hitch(this,"remove"))},remove:function(){g.anim(this.domNode,{height:0,margin:0},250,null,d.partial(f.destroy,this.domNode))}});return j});
