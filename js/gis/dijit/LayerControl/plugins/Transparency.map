{"version":3,"file":"Transparency.js","sources":["Transparency.js"],"names":["define","declare","lang","array","query","domStyle","PopupMenuItem","TooltipDialog","HorizontalSlider","HorizontalRuleLabels","layer","constructor","options","mixin","this","postCreate","inherited","arguments","transparencySlider","value","opacity","minimum","maximum","discreteValues","intermediateChanges","showButtons","onChange","hitch","setOpacity","forEach","id","img","set","rule","labels","style","bottomDecoration","startup","popup","content","connectorNode"],"mappings":";;;;;AACAA,QACI,qBACA,kBACA,mBACA,aACA,iBACA,sBACA,sBACA,8BACA,mCACD,SACCC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,MAAOR,GAAQK,GACXI,MAAO,KACPC,YAAa,SAAUC,GACnBA,EAAUA,MACVV,EAAKW,MAAMC,KAAMF,IAErBG,WAAY,WACRD,KAAKE,UAAUC,UACf,IAAIC,GAAqB,GAAIV,IACzBW,MAAOL,KAAKJ,MAAMU,QAClBC,QAAS,EACTC,QAAS,EACTC,eAAgB,GAChBC,qBAAqB,EACrBC,aAAa,EACbC,SAAUxB,EAAKyB,MAAMb,KAAM,SAAUK,GACjCL,KAAKJ,MAAMkB,WAAWT,GACtBhB,EAAM0B,QAAQzB,EAAM,IAAMU,KAAKJ,MAAMoB,GAAK,qBAAsB,SAAUC,GACtE1B,EAAS2B,IAAID,EAAK,UAAWZ,SAIrCc,EAAO,GAAIxB,IACXyB,QAAS,OAAQ,MAAO,MACxBC,MAAO,6BACRjB,EAAmBkB,iBACtBH,GAAKI,UACLnB,EAAmBmB,UACnBvB,KAAKwB,MAAQ,GAAI/B,IACb4B,MAAO,eACPI,QAASrB,IAEbb,EAAS2B,IAAIlB,KAAKwB,MAAME,cAAe,UAAW,QAClD1B,KAAKwB,MAAMD","sourcesContent":["/* transparency component */\ndefine([\n    'dojo/_base/declare',\n    'dojo/_base/lang',\n    'dojo/_base/array',\n    'dojo/query',\n    'dojo/dom-style',\n    'dijit/PopupMenuItem',\n    'dijit/TooltipDialog',\n    'dijit/form/HorizontalSlider',\n    'dijit/form/HorizontalRuleLabels'\n], function (\n    declare,\n    lang,\n    array,\n    query,\n    domStyle,\n    PopupMenuItem,\n    TooltipDialog,\n    HorizontalSlider,\n    HorizontalRuleLabels\n) {\n    return declare(PopupMenuItem, {\n        layer: null,\n        constructor: function (options) {\n            options = options || {};\n            lang.mixin(this, options);\n        },\n        postCreate: function () {\n            this.inherited(arguments);\n            var transparencySlider = new HorizontalSlider({\n                value: this.layer.opacity,\n                minimum: 0,\n                maximum: 1,\n                discreteValues: 21,\n                intermediateChanges: true,\n                showButtons: false,\n                onChange: lang.hitch(this, function (value) {\n                    this.layer.setOpacity(value);\n                    array.forEach(query('.' + this.layer.id + '-layerLegendImage'), function (img) {\n                        domStyle.set(img, 'opacity', value);\n                    });\n                })\n            });\n            var rule = new HorizontalRuleLabels({\n                labels: ['100%', '50%', '0%'],\n                style: 'height:1em;font-size:75%;'\n            }, transparencySlider.bottomDecoration);\n            rule.startup();\n            transparencySlider.startup();\n            this.popup = new TooltipDialog({\n                style: 'width:200px;',\n                content: transparencySlider\n            });\n            domStyle.set(this.popup.connectorNode, 'display', 'none');\n            this.popup.startup();\n        }\n    });\n});"]}